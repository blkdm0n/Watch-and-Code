<!DOCTYPE html>
<html>
  <head>
    <title>Practical JavaScript</title>
  </head>
  
  
  <body>
    <script>
      var todos = [
        {todoText:'item1',
         completed: false
        },
        {todoText:'item2',
         completed: false
        },
        {todoText:'item3',
         completed: false
        }];

      displayTodos()

      function add (initialTodoText) {
        todos.push({
          todoText: initialTodoText,
          completed: false
         });
         displayTodos();
      }

      function edit(index, newTodoText){
        todos[index].todoText = newTodoText;
        displayTodos();
      }
      function toggle(index) {
        currentStatus = todos[index].completed
        if (!currentStatus) {
          todos[index].completed = true;
        } else {
          todos[index].completed = false;
        }
        displayTodos();
      }

      function deleteTodo (index) {
        todos.splice(index, 1);
        displayTodos();
      }

      function displayTodos () {
        todos.forEach(todo => {
          if (todo.completed) {
            console.log(`[x] ${todo.todoText}`)
          } else {
            console.log(`[ ] ${todo.todoText}`)
          }
        })
      }

      function toggleAll () {
        var isCompleted = todos.every(todo => todo.completed === true)

        todos.forEach(todo => {
          if (isCompleted) {
            todo.completed = false
          } else {
            todo.completed  = true
          }
        })
        displayTodos()
      }
    </script>
  </body>
</html>